@import "../utils/mixins"

.heart-btn
	--animation-duration: .3s

	display: flex
	flex-flow: row nowrap
	justify-content: center
	align-items: center
	align-self: center
	font-size: 2.5rem
	cursor: pointer
	position: relative
	z-index: 1
	width: 1em
	height: 1em

	> *
		transform-origin: center

	> .heart-bg
		position: absolute
		left: 0
		right: 0
		top: 0
		bottom: 0
		transform: scale(0)

		background: linear-gradient(160deg, color('secondary') 30%, color('primary') 100%)
		-moz-background-clip: text
		-webkit-background-clip: text
		background-clip: text
		-moz-text-fill-color: transparent
		-webkit-text-fill-color: transparent

	> .heart-main
		transition: color .3s ease
		transform: scale(1)

	&:is(:hover)
		> .heart-main
			color: color('secondary')

	&:is(:active,:focus-within,:focus-visible)
		> .heart-bg
			animation: FadeIn var(--animation-duration) forwards ease-in-out
		> .heart-main
			animation: StrokeOut var(--animation-duration) forwards ease-in-out

@keyframes FadeIn
	0%
		transform: scale(0)
	40%
		transform: scale(1.2)
	100%
		transform: scale(1)

@keyframes StrokeOut
	0%
		transform: scale(1)
		color: color('secondary')
	40%
		transform: scale(1.2)
		color: color('secondary')
	60%
		color: color('primary')
		transform: scale(1.3)
	100%
		transform: scale(1.1)
		color: color('primary')

@media screen and (max-width: 375px)
	@keyframes StrokeOut
		0%
			transform: scale(1)
			color: color('black')
		40%
			transform: scale(1.2)
			color: color('secondary')
		60%
			color: color('primary')
			transform: scale(1.3)
		100%
			transform: scale(1.1)
			color: color('primary')
